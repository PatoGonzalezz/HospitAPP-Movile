"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3791],{3791:(Q,g,l)=>{l.r(g),l.d(g,{SignUpPageModule:()=>N});var p=l(6814),s=l(95),a=l(7852),f=l(1160),m=l(5861),e=l(5879),v=l(547),U=l(4532),S=l(8736);function Z(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function h(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"El nombre debe de tener un largo minimo de 3 Caracteres"),e.qZA())}function T(o,t){if(1&o&&(e.TgZ(0,"div",8),e._UZ(1,"br"),e.YNc(2,Z,2,0,"div",9),e.YNc(3,h,2,0,"div",9),e.qZA()),2&o){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.minlenght)}}function _(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"El correo es requerido"),e.qZA())}function b(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"Ingrese un correo valido"),e.qZA())}function I(o,t){if(1&o&&(e.TgZ(0,"div",8),e._UZ(1,"br"),e.YNc(2,_,2,0,"div",9),e.YNc(3,b,2,0,"div",9),e.qZA()),2&o){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.email)}}function y(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"La contrase\xf1a es requerida"),e.qZA())}function P(o,t){if(1&o&&(e.TgZ(0,"div",8),e._UZ(1,"br"),e.YNc(2,y,2,0,"div",9),e.qZA()),2&o){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",null==i.form.controls.password.errors?null:i.form.controls.password.errors.required)}}const x=[{path:"",component:(()=>{var o;class t{constructor(){this.form=new s.cw({uid:new s.NI(""),email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required]),name:new s.NI("",[s.kI.required,s.kI.minLength(3)])}),this.firebaseSvc=(0,e.f3M)(v.O),this.utilSvc=(0,e.f3M)(U.F)}ngOnInit(){}submit(){var r=this;return(0,m.Z)(function*(){if(r.form.valid){const n=yield r.utilSvc.loading();yield n.present(),r.firebaseSvc.signUp(r.form.value).then(function(){var c=(0,m.Z)(function*(d){yield r.firebaseSvc.updateUser(r.form.value.name);let u=d.user.uid;r.form.controls.uid.setValue(u),r.setUserInfo(u)});return function(d){return c.apply(this,arguments)}}()).catch(c=>{console.log(c),r.utilSvc.presentToast({message:c.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})}})()}setUserInfo(r){var n=this;return(0,m.Z)(function*(){if(n.form.valid){const c=yield n.utilSvc.loading();yield c.present();let d=`users/${r}`;delete n.form.value.password,n.firebaseSvc.setDocument(d,n.form.value).then(function(){var u=(0,m.Z)(function*(w){n.utilSvc.saveInLocalStorage("user",n.form.value),localStorage.setItem("ingresado","true"),n.utilSvc.routerLink("/home"),n.form.reset()});return function(w){return u.apply(this,arguments)}}()).catch(u=>{console.log(u),n.utilSvc.presentToast({message:u.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{c.dismiss()})}})()}}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sign-up"]],decls:27,vars:8,consts:[[1,"d-flex-center"],[1,"auth-form",3,"formGroup","ngSubmit","keypress.enter"],["autocomplete","name","type","text","label","Nombre","icon","person-outline",3,"control"],["class","validators",4,"ngIf"],["autocomplete","email","type","email","label","Correo","icon","mail-outline",3,"control"],["type","password","label","Contrase\xf1a","icon","lock-closed-outline",3,"control"],["expand","block","mode","md","type","submit",1,"submit",3,"disabled"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(r,n){1&r&&(e.TgZ(0,"ion-content")(1,"ion-card")(2,"div",0)(3,"ion-card-header")(4,"ion-card-title"),e._uU(5,"Registro de usuario"),e.qZA()(),e.TgZ(6,"form",1),e.NdJ("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),e.TgZ(7,"ion-card-content")(8,"ion-item"),e._UZ(9,"app-login-custom",2)(10,"br")(11,"br"),e.qZA(),e.YNc(12,T,4,2,"div",3),e.TgZ(13,"ion-item"),e._UZ(14,"app-login-custom",4)(15,"br")(16,"br"),e.qZA(),e.YNc(17,I,4,2,"div",3),e.TgZ(18,"ion-item"),e._UZ(19,"app-login-custom",5)(20,"br")(21,"br"),e.qZA(),e.YNc(22,P,3,1,"div",3),e.TgZ(23,"ion-col")(24,"ion-button",6),e._uU(25," Registrarse "),e._UZ(26,"ion-icon",7),e.qZA()()()()()()()),2&r&&(e.xp6(6),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.form.controls.name),e.xp6(3),e.Q6J("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),e.xp6(2),e.Q6J("control",n.form.controls.email),e.xp6(3),e.Q6J("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),e.xp6(2),e.Q6J("control",n.form.controls.password),e.xp6(3),e.Q6J("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),e.xp6(2),e.Q6J("disabled",n.form.invalid))},dependencies:[p.O5,s._Y,s.JL,a.YG,a.PM,a.FN,a.Zi,a.Dq,a.wI,a.W2,a.gu,a.Ie,s.sg,S.s],styles:["ion-content[_ngcontent-%COMP%]{--background: url(https://4kwallpapers.com/images/wallpapers/ios-13-stock-ipados-green-black-background-amoled-ipad-hd-1125x2436-793.jpg) no-repeat center center / cover}"]}),t})()}];let J=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.Bz.forChild(x),f.Bz]}),t})();var A=l(5346);let N=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,s.u5,a.Pc,J,s.UX,A.m]}),t})()}}]);